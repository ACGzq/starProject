{"version":3,"sources":["..\\..\\..\\..\\assets\\scripts/assets\\scripts\\main.js"],"names":["GLB","require","msg","engine","cc","Class","extends","Component","properties","play","Button","back","slider","Slider","gameID","volumePower","ClientRole","talkMode","isInit","mvUserID","mvToken","onLoad","initEvent","systemEvent","on","MATCHVS_INIT","onEvent","MATCHVS_RE_CONNECT","MATCHVS_ERROE_MSG","MATCHVS_REGISTER_USER","MATCHVS_LOGIN","MATCHVS_WX_BINDING","MATCHVS_JOIN_ROOM_NOTIFY","MATCHVS_JOIN_ROOM_RSP","MATCHVS_CREATE_ROOM","MATCHVS_LEAVE_ROOM","MATCHVS_LEAVE_ROOM_NOTIFY","AGROA_JOIN_CHANNEL_SUCCESS","AGROA_INIT_SUCCESS","AGROA_AUDIO_VOLUME_INDICATION","AGROA_USER_JOINED","AGROA_USER_OFFLINE","AGROA_ERROR","removeEvent","off","event","eventData","data","type","console","log","userInfo","id","token","login","MsLoginRsp","roomID","prototype","joinRandomRoom","reconnect","userInfoList","length","isRoomOwner","i","userID","director","loadScene","CreateRoomRsp","status","owner","state","roomProperty","leaveRoom","errorCode","errorMsg","channel","uid","elapsed","agora","muteLocalAudioStream","setClientRole","getVersion","startPlay","initSDK","appkey","gameVersion","agoraAppID","joinOverResponse","joinOverRsp","cpProto","start","onDestroy","update","dt"],"mappings":"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","file":"main.js","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\n//let userInfo = require(\"userInfo\");\r\n//let mvs = require(\"../MatchvsLib/Matchvs\");\r\nlet GLB = require(\"Glb\");\r\nlet msg = require(\"SDKLib/SDKMessage\");\r\nlet engine = require(\"SDKLib/MatchvsDemoEngine\");\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        play:cc.Button,\r\n        back:cc.Button,\r\n        slider: cc.Slider,\r\n        gameID:215225,\r\n        volumePower:0,\r\n        ClientRole:0,\r\n        talkMode:false,\r\n\r\n        isInit:false,\r\n        mvUserID:null,\r\n        mvToken:null,\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n     onLoad () {\r\n        /*this.node.on(cc.Node.EventType.TOUCH_START, (event)=>{\r\n            console.log(event);\r\n        }, this);*/\r\n       // this.initEvent();\r\n       // this.initSDK();\r\n     },\r\n     \r\n     /**\r\n     * 注册对应的事件监听和把自己的原型传递进入，用于发送事件使用\r\n     */\r\n    initEvent:function () {\r\n        cc.systemEvent.on(msg.MATCHVS_INIT,this.onEvent,this);\r\n        cc.systemEvent.on(msg.MATCHVS_RE_CONNECT,this.onEvent,this);\r\n        cc.systemEvent.on(msg.MATCHVS_ERROE_MSG,this.onEvent,this);\r\n        cc.systemEvent.on(msg.MATCHVS_REGISTER_USER,this.onEvent,this);\r\n        cc.systemEvent.on(msg.MATCHVS_LOGIN,this.onEvent,this);\r\n        cc.systemEvent.on(msg.MATCHVS_WX_BINDING,this.onEvent,this);\r\n        cc.systemEvent.on(msg.MATCHVS_JOIN_ROOM_NOTIFY,this.onEvent,this);\r\n        cc.systemEvent.on(msg.MATCHVS_JOIN_ROOM_RSP,this.onEvent,this);\r\n        cc.systemEvent.on(msg.MATCHVS_CREATE_ROOM,this.onEvent,this);\r\n        cc.systemEvent.on(msg.MATCHVS_LEAVE_ROOM,this.onEvent,this);\r\n        cc.systemEvent.on(msg.MATCHVS_LEAVE_ROOM_NOTIFY,this.onEvent,this);\r\n        //---------AGROA---------\r\n        cc.systemEvent.on(msg.AGROA_JOIN_CHANNEL_SUCCESS,this.onEvent,this);\r\n        cc.systemEvent.on(msg.AGROA_INIT_SUCCESS,this.onEvent,this);\r\n        cc.systemEvent.on(msg.AGROA_AUDIO_VOLUME_INDICATION,this.onEvent,this);\r\n        cc.systemEvent.on(msg.AGROA_USER_JOINED,this.onEvent,this);\r\n        cc.systemEvent.on(msg.AGROA_USER_OFFLINE,this.onEvent,this);\r\n        cc.systemEvent.on(msg.AGROA_ERROR,this.onEvent,this);\r\n    },\r\n    removeEvent:function () {\r\n        cc.systemEvent.off(msg.MATCHVS_INIT,this.onEvent,this);\r\n        cc.systemEvent.off(msg.MATCHVS_RE_CONNECT,this.onEvent,this);\r\n        cc.systemEvent.off(msg.MATCHVS_ERROE_MSG,this.onEvent,this);\r\n        cc.systemEvent.off(msg.MATCHVS_REGISTER_USER,this.onEvent,this);\r\n        cc.systemEvent.off(msg.MATCHVS_LOGIN,this.onEvent,this);\r\n        cc.systemEvent.off(msg.MATCHVS_WX_BINDING,this.onEvent,this);\r\n        cc.systemEvent.off(msg.MATCHVS_JOIN_ROOM_NOTIFY,this.onEvent,this);\r\n        cc.systemEvent.off(msg.MATCHVS_JOIN_ROOM_RSP,this.onEvent,this);\r\n        cc.systemEvent.off(msg.MATCHVS_CREATE_ROOM,this.onEvent,this);\r\n        cc.systemEvent.off(msg.MATCHVS_LEAVE_ROOM,this.onEvent,this);\r\n        cc.systemEvent.off(msg.MATCHVS_LEAVE_ROOM_NOTIFY,this.onEvent,this);\r\n        //---------AGROA---------\r\n        cc.systemEvent.off(msg.AGROA_JOIN_CHANNEL_SUCCESS,this.onEvent,this);\r\n        cc.systemEvent.off(msg.AGROA_INIT_SUCCESS,this.onEvent,this);\r\n        cc.systemEvent.off(msg.AGROA_AUDIO_VOLUME_INDICATION,this.onEvent,this);\r\n        cc.systemEvent.off(msg.AGROA_USER_JOINED,this.onEvent,this);\r\n        cc.systemEvent.off(msg.AGROA_USER_OFFLINE,this.onEvent,this);\r\n        cc.systemEvent.off(msg.AGROA_ERROR,this.onEvent,this);\r\n    },\r\n    /**\r\n     * 事件接收方法\r\n     * @param event\r\n     */\r\n    onEvent:function (event) {\r\n        let eventData = event.data;\r\n        switch (event.type){\r\n            case msg.MATCHVS_INIT:\r\n                console.log('初始化成功'); \r\n                break;\r\n            case msg.MATCHVS_REGISTER_USER:\r\n                this.mvUserID = eventData.userInfo.id;\r\n                this.mvToken=eventData.userInfo.token;\r\n                this.login();\r\n                break;\r\n            case msg.MATCHVS_LOGIN:\r\n                if (eventData.MsLoginRsp.roomID != null && eventData.MsLoginRsp.roomID !== '0') {\r\n                    engine.prototype.joinRandomRoom(2, this.mvUserID);\r\n                    console.log(\"开始重连\"+ eventData.MsLoginRsp.roomID);\r\n                    engine.prototype.reconnect();\r\n                } else {\r\n                    console.log('恭喜你登录成功，来到Matchvs的世界，你已经成功的迈出了第一步，Hello World');\r\n                    //this.engine.getRoomList();\r\n                    engine.prototype.joinRandomRoom(2, this.mvUserID);\r\n                }\r\n                break;\r\n            case msg.MATCHVS_JOIN_ROOM_RSP:\r\n            console.log(\"加入房间结果：\", eventData);\r\n            console.log(\"房间ID为:\", eventData.userInfoList.roomID);\r\n            \r\n            GLB.roomID = eventData.userInfoList.roomID;\r\n            if (eventData.userInfoList.length == 0) {\r\n                GLB.isRoomOwner = true;\r\n                console.log('joinRoomResponse：房间暂时无其他玩家');\r\n            }else{\r\n                for(var i = 0; i < eventData.userInfoList.length;i++) {\r\n                    console.log('joinRoomResponse：房间的玩家ID有'+eventData.userInfoList[i].userID);\r\n                }\r\n                cc.director.loadScene(\"game\");\r\n            }\r\n                break;\r\n            case msg.MATCHVS_JOIN_ROOM_NOTIFY:\r\n                console.log('joinRoomNotify'+eventData);\r\n                cc.director.loadScene(\"game\");\r\n                break;\r\n            case msg.MATCHVS_CREATE_ROOM:\r\n                console.log(\"创建指定类型房间回调\" + eventData.CreateRoomRsp.status);\r\n                break;\r\n            case msg.MATCHVS_RE_CONNECT:\r\n                GLB.roomID = eventData.userInfoList.roomID;\r\n                if (eventData.userInfoList.owner === GLB.userID) {\r\n                    GLB.isRoomOwner = true;\r\n                } else {\r\n                    GLB.isRoomOwner = false;\r\n                }\r\n                if (eventData.userInfoList.state === 1) {\r\n                    if (eventData.userInfoList.roomProperty === \"\") {\r\n                        engine.prototype.leaveRoom();\r\n                       // cc.director.loadScene(\"Lobby\");\r\n                    } else  {\r\n                       // cc.director.loadScene('CreateRoom');\r\n                    }\r\n                } else {\r\n                    cc.director.loadScene(\"Game\");\r\n                }\r\n                break;\r\n            case msg.MATCHVS_LEAVE_ROOM_NOTIFY:\r\n            case msg.MATCHVS_LEAVE_ROOM:\r\n                console.log(\"leave_msg\", eventData);\r\n                break;\r\n                \r\n            case msg.MATCHVS_ERROE_MSG:\r\n                console.log(\"[Err]errCode:\"+eventData.errorCode+\" errMsg:\"+eventData.errorMsg);\r\n                break;\r\n            case msg.AGROA_JOIN_CHANNEL_SUCCESS:\r\n                console.log(\"event_JOIN_CHANNEL_SUCCESS_channel: \" + eventData.channel + \" uid: \" + eventData.uid + \" elapsed: \" + eventData.elapsed);\r\n                if(this.talkMode){\r\n                    agora.muteLocalAudioStream(false);\r\n                }\r\n                if(this.ClientRole>0){\r\n                    console.log(\"ClientRole \"+this.ClientRole);\r\n                    agora.setClientRole(this.ClientRole);\r\n                }\r\n                break;\r\n                case msg.AGROA_INIT_SUCCESS:\r\n                console.log(\"init success SDKversion:\"+agora.getVersion());\r\n                break;\r\n            default:\r\n            console.log(event.type,event);\r\n            }\r\n    },\r\n   \r\n\r\n    /**\r\n     * 登录\r\n     * @param id\r\n     * @param token\r\n     */\r\n    startPlay: function () {\r\n        console.log(\"startPlay\");\r\n        cc.director.loadScene(\"game\");\r\n    },\r\n     initSDK(){\r\n        console.log(\"调用初始化\");\r\n        var appkey = '4e062ee45b8743aeaa34d51c3c49dd64#C';\r\n        var gameVersion = 1;\r\n        //engine.prototype.init(GLB.channel,GLB.platform,GLB.gameID);\r\n        var agoraAppID = \"59dd6d4438a54c36b9ed7425795f3374\";\r\n        //response.prototype.bind();\r\n        //agora.init(agoraAppID);\r\n        \r\n    },\r\n\r\n    leaveRoom:function(){\r\n        console.log(\"不玩了\");\r\n        //engine.prototype.leaveRoom(\"不玩了\");\r\n    },\r\n    joinOverResponse:function(joinOverRsp){\r\n        // 返回值\r\n        console.log(\"加入房间结果：\", joinOverRsp.status);\r\n        // 负载数据\r\n        console.log(\"负载信息：\", joinOverRsp.cpProto);\r\n        console.log(\"加入房间结果：\" + joinOverRsp.status + \"\\n负载信息：\" + joinOverRsp.cpProto);\r\n    },\r\n    start () {\r\n\r\n    },\r\n    /**\r\n     * 生命周期，销毁\r\n     */\r\n    onDestroy () {\r\n        this.removeEvent();\r\n        console.log(\"main 页面销毁\");\r\n    },\r\n\r\n     update (dt) {},\r\n});\r\n"]}